(function(a) {
  a.fn.supersubs = function(b) {
    var c = a.extend({}, a.fn.supersubs.defaults, b);
    return this.each(function() {
      var d = a(this);
      var e = a.meta ? a.extend({}, c, d.data()) : c;
      $ULs = d.find("ul").show();
      var f = a('<li id="menu-fontsize">&#8212;</li>').css({
        padding: 0,
        position: "absolute",
        top: "-999em",
        width: "auto"
      }).appendTo(d)[0].clientWidth;
      a("#menu-fontsize").remove();
      $ULs.each(function(l) {
        var k = a(this);
        var j = k.children();
        var g = j.children("a");
        var m = j.css("white-space", "nowrap").css("float");
        k.add(j).add(g).css({
          "float": "none",
          width: "auto"
        });
        var h = k[0].clientWidth / f;
        h += e.extraWidth;
        if (h > e.maxWidth) {
          h = e.maxWidth
        } else {
          if (h < e.minWidth) {
            h = e.minWidth
          }
        }
        h += "em";
        k.css("width", h);
        j.css({
          "float": m,
          width: "100%",
          "white-space": "normal"
        }).each(function() {
          var n = a(this).children("ul");
          var i = n.css("direction") === undefined ? "left" : "right";
          n.css(i, "100%")
        })
      }).hide()
    })
  };
  a.fn.supersubs.defaults = {
    minWidth: 9,
    maxWidth: 25,
    extraWidth: 0
  }
})(jQuery);
